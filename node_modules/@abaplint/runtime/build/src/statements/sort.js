"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.sort = void 0;
const compare_1 = require("../compare");
function compare(a, b, input) {
    const componentName = input.component;
    const descending = input.descending;
    let vala = a.get()[componentName];
    let valb = b.get()[componentName];
    if (componentName.toLowerCase() === "table_line") {
        vala = a.get();
        valb = b.get();
    }
    if ((0, compare_1.eq)(vala, valb)) {
        return 0;
    }
    else if (descending && (0, compare_1.gt)(vala, valb)) {
        return -1;
    }
    else if (!descending && (0, compare_1.lt)(vala, valb)) {
        return -1;
    }
    else {
        return 1;
    }
}
function sort(input, options) {
    if (options === null || options === void 0 ? void 0 : options.by) {
        if (options.by.length === 0) {
            throw "SortByLengthZero";
        }
        input.sort((a, b) => {
            for (const c of options.by || []) {
                const res = compare(a, b, c);
                if (res !== 0) {
                    return res;
                }
            }
            return 0;
        });
    }
    else {
        const descending = (options === null || options === void 0 ? void 0 : options.descending) === true ? true : false;
        input.sort((a, b) => {
            if ((0, compare_1.eq)(a, b)) {
                return 0;
            }
            else if (descending && (0, compare_1.gt)(a, b)) {
                return -1;
            }
            else if (!descending && (0, compare_1.lt)(a, b)) {
                return -1;
            }
            else {
                return 1;
            }
        });
    }
}
exports.sort = sort;
//# sourceMappingURL=sort.js.map